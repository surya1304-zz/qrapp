(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,a){},212:function(e,t,a){},259:function(e,t,a){e.exports=a(475)},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},457:function(e,t,a){},459:function(e,t,a){},461:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){},464:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){},473:function(e,t,a){e.exports=a.p+"static/media/0.1f771646.png"},474:function(e,t,a){},475:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(18),r=a.n(o),s=(a(264),a(20)),i=a(21),c=a(23),d=a(22),u=a(6),m=a(24),h=(a(265),a(62),a(63),a(266),a(36)),p=(a(267),a(268),a(161),a(163),a(509)),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={plant:null!==sessionStorage.getItem("plant")?sessionStorage.getItem("plant"):sessionStorage.getItem("plants").split("&")[0].toLowerCase(),html1:"",html2:"",html3:"",current:0,startdate:"16/10/2019",endDate:"1/11/2019",year:0},a.OnPlantChange=a.OnPlantChange.bind(Object(u.a)(a)),a.SelectCycle=a.SelectCycle.bind(Object(u.a)(a)),a.Selectstartdate=a.Selectstartdate.bind(Object(u.a)(a)),a.SelectEndDate=a.SelectEndDate.bind(Object(u.a)(a)),a.Hello=a.Hello.bind(Object(u.a)(a)),a.setStateSynchronous=a.setStateSynchronous.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setStateSynchronous",value:function(e){var t=this;return new Promise(function(a){t.setState(e,function(){return a()})})}},{key:"Hello",value:function(){document.getElementById("sidebar").classList.toggle("active"),this.props.handle()}},{key:"SelectCycle",value:function(){var e=this.props.pr.cycle.replace("undefined",this.props.number);this.setState({html1:e})}},{key:"Selectstartdate",value:function(){var e=this.props.pr.startdate.replace("undefined",this.state.startdate);this.setState({html2:e})}},{key:"SelectEndDate",value:function(){var e=this.props.pr.endDate.replace("undefined",this.state.endDate);this.setState({html3:e})}},{key:"componentDidMount",value:function(){var e=this;setInterval(this.SelectCycle,500),this.props.plantstats&&(setInterval(this.Selectstartdate,500),setInterval(this.SelectEndDate,500)),fetch("http://localhost:3000/get-cycle-data",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(t){var a=t.status,n=t.startdate,l=t.endDate,o=t.currentCycle,r=t.contractyear;"Success"!==a?alert(a):e.setState({startdate:n,endDate:l,current:o,year:r})})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;t.plant!==this.state.plant&&fetch("http://localhost:3000/get-cycle-data",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(e){var t=e.startdate,a=e.endDate,l=e.currentCycle,o=e.contractyear;n.setState({startdate:t,endDate:a,current:l,year:o})})}},{key:"render",value:function(){for(var e=this.props.plants.split("&"),a=[],n=0;n<e.length-1;n++)e[n]!==sessionStorage.getItem("plant")?a.push(l.a.createElement("option",{key:e[n],value:e[n]},e[n])):a.push(l.a.createElement("option",{key:e[n],selected:!0,value:e[n]},e[n]));return l.a.createElement("div",{className:"wrapper"},l.a.createElement("nav",{id:"sidebar"},l.a.createElement("ul",{className:"list-unstyled components"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("strong",{className:"nav-link"},"Current Plant:",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{id:"bellow",className:"nav-item active"},l.a.createElement("strong",{className:"nav-link"},this.state.plant.toUpperCase(),l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"active"},l.a.createElement("label",{id:"bello",htmlFor:"sel1"},"Select Plant:"),l.a.createElement("select",{onChange:this.OnPlantChange,className:"form-control",id:"sel1"},a)),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/plantstats"},"Plant Stats")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/rowstats"},"Row Stats")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/zonestats"},"Zone Stats")),"admin"===this.props.role?l.a.createElement("li",null,l.a.createElement(h.b,{to:"/plant"},"Create a Plant")):"",l.a.createElement("li",null,l.a.createElement(h.b,{to:"/qrcode"},"Generate QR for Single Row")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/qrcode_block"},"Generate QR By Block"))),l.a.createElement("ul",{className:"list-unstyled LTS",id:"kelo"},l.a.createElement("li",null,l.a.createElement("i",{id:"profile",className:"fa fa-user fa-2x"})),l.a.createElement("li",null,l.a.createElement("h5",null,this.props.fname)),l.a.createElement("li",null,l.a.createElement("h5",null,this.props.role)),l.a.createElement("li",null,l.a.createElement("h5",{id:"compa"},"SSAEL")))),l.a.createElement("nav",{id:"hell",className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-light",type:"button",id:"sidebarCollapse",onClick:this.Hello},l.a.createElement("i",{className:"fa fa-align-justify"})),l.a.createElement("strong",{className:"navbar-brand"},"QR App")),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("strong",{className:"nav-link",dangerouslySetInnerHTML:{__html:this.state.html1}})),l.a.createElement("li",{className:"nav-item active"},l.a.createElement("strong",{className:"nav-link",dangerouslySetInnerHTML:{__html:this.state.html2}})),l.a.createElement("li",{className:"nav-item active"},l.a.createElement("strong",{className:"nav-link",dangerouslySetInnerHTML:{__html:this.state.html3}})),l.a.createElement("li",null,l.a.createElement(p.a,{href:"/signin",size:"small",color:"secondary",variant:"contained",onClick:t.onLogoutClicked,id:"button"},"Logout"))))))}},{key:"OnPlantChange",value:function(e){var t=this;this.setStateSynchronous({plant:e.target.value.toLowerCase()}).then(function(e){t.props.setplant(t.state.plant)})}}],[{key:"onLogoutClicked",value:function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("fname"),sessionStorage.removeItem("role"),sessionStorage.removeItem("plants"),sessionStorage.removeItem("plant")}}]),t}(n.Component),b=a(13),y=a(27),f=a(61),v=a(511),E=a(5),S=a(17),C=a(512),k=Object(v.a)(function(e){return{margin:{margin:e.spacing(1)}}}),w=Object(E.a)({root:{height:10,backgroundColor:Object(S.d)("#e01616",.7),borderRadius:20},bar:{borderRadius:20,backgroundColor:"#008c0c"}})(C.a);function N(e){var t=e.progress,a=k();return l.a.createElement("div",null,l.a.createElement(w,{className:a.margin,variant:"determinate",value:t}))}var j=a(38),I=a(513),O=a(515),B=a(514),D=a(534),x=a(516),P=(a(457),Object(v.a)(function(e){return{card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:200},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},button:{margin:e.spacing(1)}}}));function z(e){var t=e.cycle1,a=e.plant,n=e.set,o=P(),r=l.a.useState(!1),s=Object(j.a)(r,2),i=s[0],c=s[1],d=l.a.useState("0"),u=Object(j.a)(d,2),m=u[0],h=u[1],g=l.a.useState("0"),b=Object(j.a)(g,2),y=b[0],v=b[1],E=l.a.useState("0"),S=Object(j.a)(E,2),C=S[0],k=S[1];return l.a.createElement(I.a,{id:"helloworld",className:o.card},l.a.createElement(B.a,null,l.a.createElement(f.a,{variant:"h5",color:"textPrimary"},"The Cycle ",t," has been completed. Do You want to Start it today!")),l.a.createElement(O.a,null,l.a.createElement(p.a,{className:o.expand,onClick:function(){c(!0)},size:"small"},"Yes"),l.a.createElement(p.a,{className:o.expand,onClick:function(){c(!1),document.getElementById("helloworld").style.display="none"},size:"small"},"No")),l.a.createElement(x.a,{in:i,timeout:"auto",unmountOnExit:!0},l.a.createElement(B.a,null,l.a.createElement(f.a,{variant:"body2",color:"textPrimary"},"How Many Days It will Continue"),l.a.createElement(D.a,{id:"standard-name",label:" duration",className:o.textField,value:m,onChange:function(e){h(e.target.value)},margin:"normal"}),l.a.createElement(D.a,{id:"standard-name",label:"ContractYear",className:o.textField,value:y,onChange:function(e){v(e.target.value)},margin:"normal"}),l.a.createElement(D.a,{id:"standard-name",label:"Cycle",className:o.textField,value:C,onChange:function(e){k(e.target.value)},margin:"normal"})),l.a.createElement(O.a,null,l.a.createElement(p.a,{className:o.button,variant:"contained",onClick:function(e){e.preventDefault(),fetch("http://localhost:3000/create-cycle",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:a,startToday:!0,duration:m,year:y,cycle:C})}).then(function(e){return alert("Success")}),n()}},"Create Cycle"))))}var M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).pr={cycle:"<div><span>Current Cycle - </span><strong>".concat(a.props.number,"</strong></div>"),select:"",startdate:"<div><span>startdate - </span><strong>"+a.props.startdate+"</strong></div>",endDate:"<div><span>ExpectedEndDate - </span><strong>"+a.props.endDate+"</strong></div>"},a.state={number:14,current:0,startdate:"16/10/2019",endDate:"1/11/2019",year:0,redirect:!1,ended:!1,plant:null!==sessionStorage.getItem("plant")?sessionStorage.getItem("plant"):sessionStorage.getItem("plants").split("&")[0].toLowerCase(),totalmodules:0,data:[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],data1:[],totalcleaned:0,duration:15},a.onCycleFixed=a.onCycleFixed.bind(Object(u.a)(a)),a.setStateSynchronous=a.setStateSynchronous.bind(Object(u.a)(a)),a.handler3=a.handler3.bind(Object(u.a)(a)),a.setPlant=a.setPlant.bind(Object(u.a)(a)),a.setEnded=a.setEnded.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setStateSynchronous",value:function(e){var t=this;return new Promise(function(a){t.setState(e,function(){return a()})})}},{key:"componentDidMount",value:function(){var e=this;sessionStorage.getItem("token")||this.setState({redirect:!0}),fetch("http://localhost:3000/check-cycle",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(t){var a=t.contractyear;console.log(a),e.setStateSynchronous({year:a})}),"admin"===this.props.role&&fetch("http://localhost:3000/check-cycle",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(t){var a=t.contractyear;e.setStateSynchronous({year:a});var n=new Date(t.endDate),l=new Date;(1===t.body||n<=l)&&e.setStateSynchronous({ended:!0})}),fetch("http://localhost:3000/get-cycle-data",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(t){var a=t.startdate,n=t.endDate,l=t.currentCycle,o=t.duration;e.setStateSynchronous({startdate:a,endDate:n,number:l,current:l,duration:o}).then(function(t){var a,n=new Date,l=n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2);a=e.state.endDate>l?l:e.state.endDate,fetch("http://localhost:3000/getplant",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:e.state.plant,startdate:e.state.startdate,presentDate:a,cycle:e.state.number,year:e.state.year})}).then(function(e){return e.json()}).then(function(t){t.data.sort(function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}),e.setStateSynchronous({data:t.data,totalmodules:t.totalmodules}).then(function(t){var a=[];e.state.data.map(function(t,n){return a.push({date:t.date,today_cleaned:Math.floor(e.state.totalmodules/e.state.duration)})}),a.sort(function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}),e.setStateSynchronous({data1:a})})}).then(function(t){for(var a=0,n=0;n<e.state.data.length;n++)a+=e.state.data[n].today_cleaned;e.setStateSynchronous({totalcleaned:a})})})})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;t.plant!==this.state.plant&&("admin"===this.props.role&&fetch("http://localhost:3000/check-cycle",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(e){var t=e.contractyear,a=new Date(e.endDate),l=new Date;(1===e.body||a<=l)&&n.setStateSynchronous({ended:!0,year:t})}).catch(function(e){return console.log(e)}),fetch("http://localhost:3000/get-cycle-data",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(e){var t=e.startdate,a=e.endDate,l=e.currentCycle,o=e.duration,r=e.contractyear;n.setStateSynchronous({startdate:t,endDate:a,number:l,duration:o,year:r}).then(function(e){var t,a=new Date,l=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2);t=n.state.endDate>l?l:n.state.endDate,fetch("http://localhost:3000/getplant",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:n.state.plant,startdate:n.state.startdate,presentDate:t,cycle:n.state.number})}).then(function(e){return e.json()}).then(function(e){e.data.sort(function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}),n.setStateSynchronous({data:e.data,totalmodules:e.totalmodules}).then(function(e){var t=[];n.state.data.map(function(e,a){return t.push({date:e.date,today_cleaned:Math.floor(n.state.totalmodules/n.state.duration)})}),t.sort(function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}),n.setStateSynchronous({data1:t})})}).then(function(e){for(var t=0,a=0;a<n.state.data.length;a++)t+=n.state.data[a].today_cleaned;n.setStateSynchronous({totalcleaned:t}).then(function(e){return console.log(n.state)})})})}).catch(function(e){console.log(e),alert("Can't find the data for the plant ".concat(n.state.plant))}))}},{key:"handler3",value:function(){document.getElementById("hello1").classList.toggle("fill")}},{key:"setPlant",value:function(e){var t=this;this.setStateSynchronous({plant:e}).then(function(e){sessionStorage.setItem("plant",t.state.plant)})}},{key:"setEnded",value:function(){var e=this;this.setStateSynchronous({ended:!1}).then(function(t){e.setState()})}},{key:"render",value:function(){for(var e=[],t=1;t<this.state.number;t++)e.push(l.a.createElement("option",{key:t,value:t},t));return e.push(l.a.createElement("option",{key:this.state.number,selected:!0,value:this.state.number},this.state.number)),this.state.redirect?(alert("SignIn to Access the Info"),l.a.createElement(b.a,{to:"/signin"})):l.a.createElement("div",null,l.a.createElement(g,{fname:sessionStorage.getItem("fname"),role:sessionStorage.getItem("role"),plants:sessionStorage.getItem("plants"),pr:this.pr,handler:this.props.handler,number:this.state.number,startdate:this.state.startdate,endDate:this.state.endDate,plantstats:!0,handle:this.handler3,setplant:this.setPlant}),l.a.createElement("div",{id:"hello1",className:"fill"},l.a.createElement("div",{id:"cycleCard"},this.state.ended?l.a.createElement(z,{cycle1:this.state.current,plant:this.state.plant,set:this.setEnded}):""),l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("strong",null,"Select cycle")),l.a.createElement("select",{className:"form-control",name:"cycleNumber",onChange:this.onCycleFixed}," ",e)),l.a.createElement("br",null),l.a.createElement("h5",null,"Actual Cleaned vs Date")," ",l.a.createElement("br",null),l.a.createElement(y.e,{width:730,height:250,data:this.state.data,margin:{top:5,right:30,left:20,bottom:30},syncId:"hell"},l.a.createElement(y.b,{strokeDasharray:"3 3"}),l.a.createElement(y.g,{dataKey:"date"},l.a.createElement(y.c,{value:"Date",offset:-10,position:"insideBottom"})),l.a.createElement(y.h,{label:{value:"Total Modules Cleaned",offset:0,angle:-90,position:"insideBottomLeft"}}),l.a.createElement(y.f,null),l.a.createElement(y.d,{type:"linear",dataKey:"today_cleaned",stroke:"#003157"})),l.a.createElement("br",null),l.a.createElement("h5",null,"Expected Cleaned vs Date")," ",l.a.createElement("br",null),l.a.createElement(y.e,{width:730,height:250,data:this.state.data1,margin:{top:5,right:30,left:20,bottom:5},syncId:"hell"},l.a.createElement(y.b,{strokeDasharray:"3 3"}),l.a.createElement(y.g,{dataKey:"date"}),l.a.createElement(y.h,null),l.a.createElement(y.f,null),l.a.createElement(y.d,{type:"linear",dataKey:"today_cleaned",stroke:"#000000"}),l.a.createElement(y.a,{height:20})),l.a.createElement("br",null),l.a.createElement(f.a,{variant:"body2"},"Total Modules Cleaned Till Date : ",this.state.totalcleaned," Out of ",this.state.totalmodules),l.a.createElement(N,{progress:Math.floor(this.state.totalcleaned/this.state.totalmodules*100)})))}},{key:"onCycleFixed",value:function(e){var t=this;e.preventDefault(),this.setStateSynchronous({current:Number(e.target.value)}).then(function(e){var a,n,l=new Date,o=l.getFullYear()+"-"+("0"+(l.getMonth()+1)).slice(-2)+"-"+("0"+l.getDate()).slice(-2);fetch("http://localhost:3000/getdataofparticularcycle",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:sessionStorage.getItem("plant"),cycle:t.state.current})}).then(function(e){return e.json()}).then(function(e){var l;a=e.startdate,l=(n=e.endDate)>o?o:n,fetch("http://localhost:3000/getplant",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:t.state.plant,startdate:a,presentDate:l,cycle:t.state.current,year:t.state.year})}).then(function(e){return e.json()}).then(function(e){console.log(e),"Success"!==e.status?alert(e.status):(e.data.sort(function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}),t.setStateSynchronous({data:e.data,totalmodules:e.totalmodules}).then(function(e){var a=[];t.state.data.map(function(e,n){return a.push({date:e.date,today_cleaned:Math.floor(t.state.totalmodules/t.state.duration)})}),a.sort(function(e,t){return e.date>t.date?1:t.date>e.date?-1:0}),t.setStateSynchronous({data1:a})}))})})})}}]),t}(n.Component),F=Object(b.f)(M),T=(a(458),a(519)),R=a(520),_=a(479),A=(a(144),Object(v.a)(function(e){return{card:{maxWidth:"50vw",maxHeight:"60vw",borderRadius:20},cardButton:{textAlign:"center"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"#333333"},root:{flexGrow:1},margin:{margin:e.spacing(1)}}})),q=Object(E.a)({root:{height:7,backgroundColor:Object(S.d)("#383838",.7),borderRadius:20},bar:{borderRadius:20,backgroundColor:"#383838"}})(C.a);var J=function(e){var t=e.zone,a=e.today,n=e.rows,o=e.accap,r=e.dccap,s=e.progress,i=e.onCardClicked,c=A(),d="Zone ".concat(t);return l.a.createElement("div",{className:"gmd-1"},l.a.createElement(I.a,{className:c.card},l.a.createElement(T.a,{avatar:l.a.createElement(R.a,{"aria-label":"Recipe",className:c.avatar},t),title:d,subheader:a}),l.a.createElement(_.a,{className:c.cardButton,onClick:function(e){return i(t,e)}},l.a.createElement(B.a,null,l.a.createElement(f.a,{variant:"h6",color:"textPrimary",component:"p"},"Total Rows : ",n),l.a.createElement(f.a,{variant:"body2",color:"textSecondary",component:"p"},"DC Cap: ",r," MW"),l.a.createElement(f.a,{variant:"body2",color:"textSecondary",component:"p"},"AC Cap: ",o," MW"))),l.a.createElement(O.a,{disableSpacing:!0},l.a.createElement(f.a,{variant:"h6",color:"textSecondary"},s,"% Completed")),l.a.createElement("div",null,l.a.createElement(q,{className:c.margin,variant:"determinate",value:s}))))},L=(a(459),a(227)),U=a(538),W=(a(460),Object(L.a)({typography:{fontFamily:"Rubik"}})),H=Object(v.a)({card:{minWidth:"30vw",maxWidth:"50vw",textAlign:"initial",borderRadius:20,position:"relative"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},end:{position:"absolute",right:15,top:10,marginRight:10,fontSize:20},end1:{position:"absolute",right:24,top:40,marginRight:10,fontFamily:W.typography.fontFamily,border:2,borderColor:"black",borderStyle:"solid",padding:3}});function G(e){var t=e.block,a=e.totalrows,n=e.totalmod,o=e.inv,r=e.smb,s=e.fmod,i=e.tmod,c=e.wp,d=e.onButton,u=H();return l.a.createElement("div",{className:"gmd-1"},l.a.createElement(U.a,{theme:W},l.a.createElement(I.a,{className:u.card},l.a.createElement(f.a,{className:u.end,variant:"h5"},"Block"),l.a.createElement(f.a,{className:u.end1,variant:"h5"},t),l.a.createElement(B.a,null,l.a.createElement(f.a,{variant:"h5"},"Total Rows : ",a),l.a.createElement(f.a,{variant:"subtitle2",component:"h2"},"Total Modules : ",n),l.a.createElement(f.a,{variant:"subtitle2"},"Inverter : ",o),l.a.createElement(f.a,{variant:"subtitle2",component:"strong"},"SMB : ",r),l.a.createElement("br",null),l.a.createElement(f.a,{variant:"subtitle2",component:"strong"},"40 Module Rows : ",s),l.a.createElement("br",null),l.a.createElement(f.a,{variant:"subtitle2",component:"strong"},"20 Module Rows : ",i),l.a.createElement("br",null),l.a.createElement(f.a,{variant:"subtitle2",component:"strong"},"Watt Power: ",c)),l.a.createElement(O.a,null,l.a.createElement(p.a,{color:"primary",size:"large",onClick:function(e){return d(e,t,o,r)}},"Get Detailed Info")))))}var Z=Object(v.a)({card:{minWidth:400,maxWidth:"50vw",minHeight:200,textAlign:"end",position:"relative",borderRadius:20},title:{fontSize:14},orangeAvatar:{margin:10,color:"#fff",backgroundColor:"black"},top:{position:"absolute",top:50,right:5},button:{position:"absolute",bottom:5,left:4}});function V(e){var t=e.row,a=e.fmod,n=e.cleanStatus,o=e.updateDate,r=e.updateTime,s=e.comments,i=Z();return l.a.createElement("div",{className:"gmd-1"},l.a.createElement(I.a,{className:i.card},l.a.createElement(T.a,{avatar:l.a.createElement(R.a,{className:i.orangeAvatar},t)}),l.a.createElement(B.a,{className:i.top},1==a?l.a.createElement(f.a,{variant:"h5",component:"h2"},"Row-Type : 40 Module Row"):l.a.createElement(f.a,{variant:"h5",component:"h2"},"Row-Type : 20 Module Row"),1==n?l.a.createElement(f.a,{variant:"h5",component:"h2"},"Clean Status : Cleaned"):l.a.createElement(f.a,{variant:"h5",component:"h2"},"Clean Status : Not Cleaned"),1==n?l.a.createElement(f.a,{variant:"body2",component:"h2"}," Update Date : ",o," "):l.a.createElement(f.a,{variant:"body2",component:"h2"},"Will be cleaned Soon"),1==n?l.a.createElement(f.a,{variant:"body2",component:"h2"}," Update Time : ",r," "):"",1==n?l.a.createElement(f.a,{variant:"body2",component:"h2"}," Comment : ",s," "):"")))}var Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).pr={cycle:"",select:"",startdate:""},a.state={zone:[],zoneIndividual:0,cycle:0,current:1,row:0,year:0,inverter:"",totalrows:[],redirect:!1,plant:null!==sessionStorage.getItem("plant")?sessionStorage.getItem("plant"):sessionStorage.getItem("plants").split("&")[0].toLowerCase(),accap:[],dccap:[],totalzones:0,startdate:"",details:[],data:[],progress:[]},a.onNumberFixed=a.onNumberFixed.bind(Object(u.a)(a)),a.onCycleFixed=a.onCycleFixed.bind(Object(u.a)(a)),a.onRowFixed=a.onRowFixed.bind(Object(u.a)(a)),a.handler2=a.handler2.bind(Object(u.a)(a)),a.setPlant=a.setPlant.bind(Object(u.a)(a)),a.onCardClicked=a.onCardClicked.bind(Object(u.a)(a)),a.setStateSynchronous=a.setStateSynchronous.bind(Object(u.a)(a)),a.onButtonClicked=a.onButtonClicked.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setStateSynchronous",value:function(e){var t=this;return new Promise(function(a){t.setState(e,function(){return a()})})}},{key:"componentDidMount",value:function(){var e=this;sessionStorage.getItem("token")||this.setState({redirect:!0}),fetch("http://localhost:3000/get-cycle-data",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(t){e.setStateSynchronous({startdate:t.startdate,cycle:t.currentCycle,year:t.contractyear})}),fetch("http://localhost:3000/zonedata",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(t){if("Success"!==t.status)alert(t.status);else{var a=t.body,n=[],l=[],o=[],r=[];a.map(function(e,t){n.push(e.zone),o.push(e.accapacity),l.push(e.dccapacity),r.push(e.totalrows)}),e.setStateSynchronous({zone:n,accap:o,dccap:l,totalrows:r,totalzones:a.length}).then(function(t){return fetch("http://localhost:3000/zoneprogress",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:e.state.plant,year:e.state.year,cycle:e.state.cycle,zonenum:n.length})}).then(function(e){return e.json()}).then(function(t){var a=[];t.map(function(e,t){a.push(e.progress)}),e.setStateSynchronous({progress:a})})})}})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;t.plant!==this.state.plant&&(fetch("http://localhost:3000/get-cycle-data",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(e){n.setStateSynchronous({startdate:e.startdate,cycle:e.currentCycle,year:e.contractyear})}),fetch("http://localhost:3000/zonedata",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(e){if("Success"!==e.status)alert(e.status);else{var t=e.body,a=[],l=[],o=[],r=[];t.map(function(e,t){a.push(e.zone),o.push(e.accapacity),l.push(e.dccapacity),r.push(e.totalrows)}),n.setStateSynchronous({zone:a,accap:o,dccap:l,totalrows:r,totalzones:t.length}).then(function(e){return fetch("http://localhost:3000/zoneprogress",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:n.state.plant,year:n.state.year,cycle:n.state.cycle,zonenum:a.length})}).then(function(e){return e.json()}).then(function(e){var t=[];e.map(function(e,a){t.push(e.progress)}),n.setStateSynchronous({progress:t})})})}}))}},{key:"handler2",value:function(e){this.setState({number:e})}},{key:"setPlant",value:function(e){var t=this;this.setStateSynchronous({plant:e}).then(function(e){sessionStorage.setItem("plant",t.state.plant)})}},{key:"handler3",value:function(){document.getElementById("least").classList.toggle("fill"),document.getElementById("keast").classList.toggle("fill"),document.getElementById("beast").classList.toggle("fill")}},{key:"render",value:function(){if(this.state.redirect)return alert("SignIn to Access the Info"),l.a.createElement(b.a,{to:"/signin"});for(var e=new Date,t=("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear(),a=[],n=0;n<this.state.totalzones;n++)a.push(l.a.createElement(J,{key:n,zone:this.state.zone[n],rows:this.state.totalrows[n],today:t,accap:this.state.accap[n],dccap:this.state.dccap[n],progress:this.state.progress[n],onCardClicked:this.onCardClicked}));return l.a.createElement("div",null,l.a.createElement(g,{fname:sessionStorage.getItem("fname"),role:sessionStorage.getItem("role"),plants:sessionStorage.getItem("plants"),pr:this.pr,handler1:this.handler2,number:this.state.zone,plantstats:!1,handle:this.handler3,setplant:this.setPlant}),l.a.createElement("div",{id:"least",className:"fill least"},a),l.a.createElement("div",{id:"keast",className:"fill surya least"},this.state.details,l.a.createElement(p.a,{onClick:this.onButtonClicked1,variant:"contained",className:"outlined-button",color:"primary"},"Get Data For another Zone")),l.a.createElement("div",{id:"beast",className:"fill surya least"},this.state.data,l.a.createElement(p.a,{onClick:this.onButtonClicked2,variant:"contained",className:"outlined-button",color:"primary"},"Get Data For another Block")))}},{key:"onNumberFixed",value:function(e){this.setState({zone:Number(e.target.value)})}},{key:"onCycleFixed",value:function(e){this.setState({current:Number(e.target.value)})}},{key:"onRowFixed",value:function(e){this.setState({row:Number(e.target.value)})}},{key:"onButtonClicked1",value:function(e){e.preventDefault(),document.getElementById("least").style.display="grid",document.getElementById("keast").style.display="none",document.getElementById("beast").style.display="none"}},{key:"onButtonClicked2",value:function(e){e.preventDefault(),document.getElementById("least").style.display="none",document.getElementById("keast").style.display="grid",document.getElementById("beast").style.display="none"}},{key:"onButtonClicked",value:function(e,t,a,n){var o=this;e.preventDefault(),fetch("http://localhost:3000/getblockdata",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant,zone:this.state.zoneIndividual,block:t,cycle:this.state.cycle,year:this.state.year,inverter:a,smb:n})}).then(function(e){return e.json()}).then(function(e){var t=[];e.map(function(e,a){var n=l.a.createElement(V,{key:a,row:a+1,fmod:e.fmod,cleanStatus:e.cleanstatus,updateDate:e.updateDate,updateTime:e.updateTime,comments:e.comments});t.push(n)}),o.setStateSynchronous({data:t})}),document.getElementById("least").style.display="none",document.getElementById("keast").style.display="none",document.getElementById("beast").style.display="grid"}},{key:"onCardClicked",value:function(e){var t=this,a=[],n=[],o=[],r=[],s=[],i=[],c=[],d=[];this.setState({zoneIndividual:e}),fetch("http://localhost:3000/blockdata",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant,zone:e})}).then(function(e){return e.json()}).then(function(u){if("Success"!==u.status)alert(u.status);else{u.body.map(function(e,t){a.push(e.blockname),n.push(e.totalrows),o.push(e.totalmodules),r.push(e.inverter),s.push(e.smb),i.push(e._40mrows),c.push(e._20mrows),d.push(e.wp)});for(var m=[],h=0;h<a.length;h++)m.push(l.a.createElement(G,{key:h,block:a[h],totalrows:n[h],totalmod:o[h],inv:r[h],smb:s[h],fmod:i[h],tmod:c[h],wp:d[h],zone:e,onButton:t.onButtonClicked}));t.setStateSynchronous({details:m}).then(function(e){document.getElementById("least").style.display="none",document.getElementById("beast").style.display="none",document.getElementById("keast").style.display="grid"})}})}}]),t}(n.Component),Y=Object(b.f)(Q),K=(a(461),a(462),a(531)),$=a(530),X=(a(463),a(76)),ee=a(114),te=a(111),ae=a(521),ne=a(537),le=a(522),oe=a(523),re=a(524),se=a(517),ie=a(539),ce=a(518),de=a(525),ue=a(535),me=a(526),he=Object(v.a)(function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)},group:{margin:e.spacing(1,0)},textfield:{paddingBottom:10}}});function pe(e){var t=e.updateIt,a=e.open,n=e.handleClose,o=he(),r=l.a.useState({updatedate:"",updatetime:"",updatestatus:!1,updatecomments:""}),s=Object(j.a)(r,2),i=s[0],c=s[1],d=Object(te.a)(),u=Object(ae.a)(d.breakpoints.down("sm"));var m=function(e){return function(t){c(Object(ee.a)({},i,Object(X.a)({},e,t.target.value))),console.log(i)}};return l.a.createElement("div",null,l.a.createElement(ne.a,{fullScreen:u,open:a,onClose:n,"aria-labelledby":"responsive-dialog-title"},l.a.createElement(le.a,{id:"responsive-dialog-title"},"Status Update"),l.a.createElement(oe.a,null,l.a.createElement(re.a,null,"Update the Info of the Cycle Here"),l.a.createElement(D.a,{autoFocus:!0,margin:"normal",className:o.textfield,id:"date",label:"Update Date(yyyy-mm-dd)",type:"text",fullWidth:!0,multiline:!0,onChange:m("updatedate")}),l.a.createElement(D.a,{autoFocus:!0,margin:"normal",className:o.textfield,id:"time",label:"Update Time(hh:mm:ss)",type:"text",fullWidth:!0,multiline:!0,onChange:m("updatetime")}),l.a.createElement(se.a,{component:"fieldset",className:o.formControl},l.a.createElement(ie.a,{"aria-label":"Clean Status",name:"cleanstatus",className:o.group,onChange:m("updatestatus")},l.a.createElement(ce.a,{component:"legend"},"Clean Status"),l.a.createElement(de.a,{value:"1",control:l.a.createElement(ue.a,null),label:"Cleaned"}),l.a.createElement(de.a,{value:"0",control:l.a.createElement(ue.a,null),label:"Not Cleaned"}))),l.a.createElement(D.a,{autoFocus:!0,margin:"normal",className:o.textfield,id:"Comments",label:"Comments",type:"text",fullWidth:!0,multiline:!0,onChange:m("updatecomments")})),l.a.createElement(me.a,null,l.a.createElement(p.a,{onClick:n,color:"secondary",variant:"contained"},"Cancel"),l.a.createElement(p.a,{onClick:function(){t(i)},color:"primary",variant:"contained",autoFocus:!0},"Update"))))}var ge=Object(v.a)({card:{minWidth:"25vw",maxWidth:"40vw",minHeight:200,textAlign:"end",position:"relative",borderRadius:20},title:{fontSize:14},orangeAvatar:{margin:10,color:"#fff",backgroundColor:"black"},top:{position:"absolute",top:50,right:5},button:{position:"absolute",bottom:5,left:4},button1:{position:"absolute",bottom:45,left:0}});function be(e){var t=e.cycle,a=e.plant,o=e.date,r=e.zone,s=e.row,i=e.block,c=e.inverter,d=e.smb,u=e.cleanStatus,m=e.updateDate,h=e.updateTime,g=e.getinfo,b=ge(),y=Object(n.useState)(!1),v=Object(j.a)(y,2),E=v[0],S=v[1];return l.a.createElement("div",{className:"gmd-1"},l.a.createElement(pe,{open:E,updateIt:function(e){S(!1),fetch("http://localhost:3000/cycleStats",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:a,date:o,zone:r,row:s,block:i,inverter:c,SMB:d,cycle:t,newdate:e.updatedate,newStatus:Number(e.updatestatus),newTime:e.updatetime,newComment:e.updatecomments})}).then(function(e){return e.json()}).then(function(e){return console.log(e)})},handleClose:function(){S(!1)}}),l.a.createElement(I.a,{className:b.card},l.a.createElement(T.a,{avatar:l.a.createElement(R.a,{className:b.orangeAvatar},t)}),l.a.createElement(B.a,{className:b.top},1==u?l.a.createElement(f.a,{variant:"h5",component:"h2"},"Clean Status : Cleaned"):l.a.createElement(f.a,{variant:"h5",component:"h2"},"Clean Status : Not Cleaned"),1==u?l.a.createElement(f.a,{variant:"body2",component:"h2"}," Update Date : ",m," "):l.a.createElement(f.a,{variant:"body2",component:"h2"},"Will be cleaned Soon"),1==u?l.a.createElement(f.a,{variant:"body2",component:"h2"}," Update Time : ",h," "):""),l.a.createElement(O.a,null,1==u?l.a.createElement(p.a,{onClick:function(e){return g(t,e)},color:"primary",className:b.button},"Get More Info"):"","admin"===sessionStorage.getItem("role")?l.a.createElement(p.a,{onClick:function(){S(!0)},color:"secondary",className:b.button1},"Edit The Info"):"")))}var ye=a(529),fe=a(527),ve=a(528),Ee=Object(v.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:e.palette.background.paper,height:600},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},bottom:{paddingBottom:20},top:{paddingTop:20}}});function Se(e){var t=e.tileData,a=e.cyc,n=e.oncl,o=Ee(),r=[];return t.map(function(e,t){r.push(l.a.createElement(fe.a,{key:e.img},l.a.createElement("img",{src:e.img,alt:e.title}),l.a.createElement(ve.a,{title:e.title})))}),l.a.createElement("div",null,l.a.createElement(f.a,{className:o.bottom,variant:"h5",color:"primary"},"Cycle ",a),l.a.createElement("div",{className:o.root},l.a.createElement(ye.a,{cellHeight:600,className:o.gridList,cols:2},r)),l.a.createElement("div",{className:o.top},l.a.createElement(p.a,{onClick:n,variant:"contained",className:"outlined-button",color:"primary"},"Go Back")))}var Ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).pr={cycle:"",select:"",startdate:""},a.state={number:1,zone:1,row:1,block:"A1",inverter:"1.1",SMB:"1.1.3",redirect:!1,plant:null!==sessionStorage.getItem("plant")?sessionStorage.getItem("plant"):sessionStorage.getItem("plants").split("&")[0].toLowerCase(),startdate:"",endDate:"",year:0,cleanedStatus:[],forty:[],updateDate:[],updateTime:[],cycls:[],cardData:[],cycle:1},a.onEmailChange=a.onEmailChange.bind(Object(u.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(u.a)(a)),a.onBlockChange=a.onBlockChange.bind(Object(u.a)(a)),a.onInverterChange=a.onInverterChange.bind(Object(u.a)(a)),a.onSMBChange=a.onSMBChange.bind(Object(u.a)(a)),a.onButtonClicked=a.onButtonClicked.bind(Object(u.a)(a)),a.handler2=a.handler2.bind(Object(u.a)(a)),a.handler3=a.handler3.bind(Object(u.a)(a)),a.setPlant=a.setPlant.bind(Object(u.a)(a)),a.setStateSynchronous=a.setStateSynchronous.bind(Object(u.a)(a)),a.getInfo=a.getInfo.bind(Object(u.a)(a)),a.onButtonClicked1=a.onButtonClicked1.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setStateSynchronous",value:function(e){var t=this;return new Promise(function(a){t.setState(e,function(){return a()})})}},{key:"componentDidMount",value:function(){var e=this;sessionStorage.getItem("token")||this.setState({redirect:!0}),fetch("http://localhost:3000/get-cycle-data",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(t){var a=t.startdate,n=t.endDate,l=t.currentCycle,o=t.contractyear;e.setState({startdate:a,endDate:n,number:l,year:o})})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;t.plant!==this.state.plant&&fetch("http://localhost:3000/get-cycle-data",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant})}).then(function(e){return e.json()}).then(function(e){var t=e.startdate,a=e.endDate,l=e.currentCycle,o=e.contractyear;n.setState({startdate:t,endDate:a,number:l,year:o})})}},{key:"handler3",value:function(){if("none"!==document.getElementById("hello").style.display)document.getElementById("hello").classList.toggle("fill");else if("none"!==document.getElementById("jel").style.display){document.getElementById("jel").classList.toggle("fill")}document.getElementById("images").classList.toggle("fill")}},{key:"setPlant",value:function(e){var t=this;this.setStateSynchronous({plant:e}).then(function(e){sessionStorage.setItem("plant",t.state.plant)})}},{key:"handler2",value:function(e){this.setState({number:e})}},{key:"render",value:function(){return this.state.redirect?(alert("SignIn to Access the Info"),l.a.createElement(b.a,{to:"/signin"})):l.a.createElement("div",null,l.a.createElement(g,{fname:sessionStorage.getItem("fname"),role:sessionStorage.getItem("role"),plants:sessionStorage.getItem("plants"),number:this.state.number,pr:this.pr,handler1:this.handler2,plantstats:!1,handle:this.handler3,setplant:this.setPlant}),l.a.createElement("form",{id:"hello",className:"hello fill"},l.a.createElement("div",{className:"bellll"},l.a.createElement(D.a,{required:!0,id:"outlined-zone",label:"Zone",defaultValue:"1",margin:"normal",variant:"outlined",onChange:this.onEmailChange}),l.a.createElement(D.a,{required:!0,id:"outlined-row",label:"Row",defaultValue:"1",margin:"normal",variant:"outlined",onChange:this.onPasswordChange}),l.a.createElement(D.a,{required:!0,id:"outlined-block",label:"Block Name",defaultValue:"A1",margin:"normal",variant:"outlined",onChange:this.onBlockChange}),l.a.createElement(D.a,{required:!0,id:"outlined-inverter",label:"Inverter ID",defaultValue:"1.1",margin:"normal",variant:"outlined",onChange:this.onInverterChange}),l.a.createElement(D.a,{required:!0,className:"outlined-smb",label:"SMB ID",defaultValue:"1.1.3",margin:"normal",variant:"outlined",onChange:this.onSMBChange}),l.a.createElement(p.a,{onClick:this.onButtonClicked,variant:"contained",className:"outlined-button",color:"primary"},"Get Data",l.a.createElement($.a,null)))),l.a.createElement("div",{id:"jel",className:"fill"},l.a.createElement("div",{className:"key"},l.a.createElement("div",{className:"zone"},"Zone : ",this.state.zone),l.a.createElement("div",{className:"block"},"Block Name : ",this.state.block),l.a.createElement("div",{className:"inverter"},"Inverter : ",this.state.inverter),l.a.createElement("div",{className:"smb"},"SMB : ",this.state.SMB),l.a.createElement("div",{className:"rowtype"},1==this.state.forty?l.a.createElement("h6",null,"Row Type : 40 Module Row"):l.a.createElement("h6",null,"Row Type : 20 Module Row"))),l.a.createElement(K.a,null),l.a.createElement("div",{className:"grid11"},this.state.cards),l.a.createElement(p.a,{onClick:this.CSV.bind(this),variant:"outlined",className:"outlined-button",color:"secondary"},"Download Data as CSV"),l.a.createElement("br",null),l.a.createElement(p.a,{onClick:t.onButtonClicked2,variant:"contained",className:"outlined-button",color:"primary"},"Get Data For another Row")),l.a.createElement("div",{id:"images",className:"fill"},l.a.createElement(Se,{tileData:this.state.cardData,cyc:this.state.cycle,oncl:this.onButtonClicked1})))}},{key:"onEmailChange",value:function(e){this.setState({zone:Number(e.target.value)})}},{key:"onPasswordChange",value:function(e){this.setState({row:Number(e.target.value)})}},{key:"onBlockChange",value:function(e){this.setState({block:e.target.value.toString()})}},{key:"onInverterChange",value:function(e){this.setState({inverter:e.target.value.toString()})}},{key:"onSMBChange",value:function(e){this.setState({SMB:e.target.value.toString()})}},{key:"CSV",value:function(){var e=this;fetch("http://localhost:3000/rowstatsdetailed",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant,year:this.state.year,zone:this.state.zone,row:this.state.row,block:this.state.block,inverter:this.state.inverter,SMB:this.state.SMB,cycle:this.state.number})}).then(function(e){return e.json()}).then(function(a){"Success"===a.Status?t.JSONToCSVConvertor(a.body,"cycleDataforRow".concat(e.state.row.toString()),!0):alert(a.Status)})}},{key:"onButtonClicked",value:function(e){var t=this;e.preventDefault(),fetch("http://localhost:3000/rowstats",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant,year:this.state.year,zone:this.state.zone,row:this.state.row,block:this.state.block,inverter:this.state.inverter,SMB:this.state.SMB,cycle:this.state.number})}).then(function(e){return e.json()}).then(function(e){if("Error"===e.status)alert(e.body);else{var a=[],n=[],o=[],r=[],s=[];e.body.map(function(e,t){s.push(e.cycle),a.push(e._cleanstatus),n.push(e._40mod),o.push(e.updateDate),r.push(e.updateTime)}),t.setStateSynchronous({cycls:s,cleanedStatus:a,forty:n[0],updateDate:o,updateTime:r}).then(function(e){for(var a=[],n=0;n<t.state.cleanedStatus.length;n++)a.push(l.a.createElement(be,{cycle:t.state.cycls[n],plant:t.state.plant,date:t.state.startdate,zone:t.state.zone,row:t.state.row,block:t.state.block,inverter:t.state.inverter,smb:t.state.SMB,cleanStatus:t.state.cleanedStatus[n],updateDate:t.state.updateDate[n],updateTime:t.state.updateTime[n],getinfo:t.getInfo}));t.setStateSynchronous({cards:a})}).then(function(e){document.getElementById("hello").style.display="none",document.getElementById("jel").style.display="grid",document.getElementById("images").style.display="none"})}})}},{key:"onButtonClicked1",value:function(){this.setStateSynchronous({cardData:[]}),document.getElementById("hello").style.display="none",document.getElementById("jel").style.display="grid",document.getElementById("images").style.display="none"}},{key:"getInfo",value:function(e){var t=this,a=[];fetch("http://localhost:3000/getimages",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant,cycle:e,zone:this.state.zone,row:this.state.row,block:this.state.block,inverter:this.state.inverter,smb:this.state.SMB,year:this.state.year})}).then(function(e){return e.json()}).then(function(n){a.push({img:n.precleaned,title:"Pre Cleaned Image"}),a.push({img:n.postcleaned,title:"Post Cleaned Image"}),t.setStateSynchronous({cardData:a,cycle:e}).then(function(e){document.getElementById("hello").style.display="none",document.getElementById("jel").style.display="none",document.getElementById("images").style.display="flex"})})}}],[{key:"JSONToCSVConvertor",value:function(e,t,a){var n="object"!=typeof e?JSON.parse(e):e,l="";if(l+=t+"\r\n\n",a){var o="";for(var r in n[0])o+=r+",";l+=(o=o.slice(0,-1))+"\r\n"}for(var s=0;s<n.length;s++){var i="";for(var c in n[s])i+='"'+n[s][c]+'",';i.slice(0,i.length-1),l+=i+"\r\n"}if(""!=l){var d="MyReport_";d+=t.replace(/ /g,"_");var u="data:text/csv;charset=utf-8,"+escape(l),m=document.createElement("a");m.href=u,m.style="visibility:hidden",m.download=d+".csv",document.body.appendChild(m),m.click(),document.body.removeChild(m)}else alert("Invalid data")}},{key:"onButtonClicked2",value:function(){document.getElementById("hello").style.display="flex",document.getElementById("jel").style.display="none",document.getElementById("images").style.display="none"}}]),t}(n.Component),ke=Object(b.f)(Ce),we=(a(464),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onSubmitClicked=function(e){e.preventDefault(),fetch("http://localhost:3000/register-user",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fname:a.state.FullNameChange,role:a.state.RoleChange,email:a.state.EmailChange,uid:a.state.UserNameChange,plants:a.state.PlantsChange,password:a.state.PasswordChange})}).then(function(e){return e.json()}).then(function(e){"success"===e.status?a.setState({redirect:!0}):alert("try Again")})},a.state={FullNameChange:"",RoleChange:"",EmailChange:"",UserNameChange:"",PasswordChange:"",PlantsChange:"",redirect:!1,plants:[]},a.onFullChange=a.onFullChange.bind(Object(u.a)(a)),a.onRoleChange=a.onRoleChange.bind(Object(u.a)(a)),a.onEmailChange=a.onEmailChange.bind(Object(u.a)(a)),a.onUserNameChange=a.onUserNameChange.bind(Object(u.a)(a)),a.onPlantsChecked=a.onPlantsChecked.bind(Object(u.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(u.a)(a)),a.onSubmitClicked=a.onSubmitClicked.bind(Object(u.a)(a)),a.onCancelClicked=a.onCancelClicked.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];fetch("http://localhost:3000/getplants").then(function(e){return e.json()}).then(function(e){e.map(function(e,a){t.push(l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},l.a.createElement("input",{type:"checkbox",value:e.plant_name,name:"plant"})),l.a.createElement("em",{className:"form-control"},e.plant_name))))})}).then(function(a){e.setState({plants:t})})}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(b.a,{to:"/signin"}):l.a.createElement("div",null,l.a.createElement("form",{className:"hello"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputFullName1"},"Full Name:"),l.a.createElement("input",{type:"text",name:"fname",className:"form-control",id:"exampleInputFullName1","aria-describedby":"emailHelp",placeholder:"Full Name",onChange:this.onFullChange,required:!0}),l.a.createElement("label",{htmlFor:"exampleInputRole1"},"Role:"),l.a.createElement("input",{type:"text",name:"role",className:"form-control",id:"exampleInputRole1",placeholder:"Role",onChange:this.onRoleChange,required:!0}),l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email:"),l.a.createElement("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1",placeholder:"Email",onChange:this.onEmailChange,required:!0}),l.a.createElement("label",{htmlFor:"exampleInputUserName"},"User Name:"),l.a.createElement("input",{type:"text",name:"uid",className:"form-control",id:"exampleInputUserName",placeholder:"User Name",onChange:this.onUserNameChange,required:!0}),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h4",null,"Select the Plants:"),this.state.plants),l.a.createElement("label",{htmlFor:"exampleInputPassword"},"Password"),l.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword",placeholder:"Password",onChange:this.onPasswordChange,required:!0}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",onClick:this.onSubmitClicked,value:"Register",className:"btn btn-success"}),l.a.createElement("input",{type:"button",onClick:this.onCancelClicked,value:"Cancel",className:"btn btn-danger"}))))}},{key:"onFullChange",value:function(e){this.setState({FullNameChange:e.target.value})}},{key:"onRoleChange",value:function(e){this.setState({RoleChange:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({EmailChange:e.target.value})}},{key:"onUserNameChange",value:function(e){this.setState({UserNameChange:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({PasswordChange:e.target.value}),this.onPlantsChecked(),console.log(this.state)}},{key:"onPlantsChecked",value:function(){for(var e=document.getElementsByName("plant"),t="",a=0;a<e.length;a++)e[a].checked&&(t+=e[a].value+"&");this.setState({PlantsChange:t})}},{key:"onCancelClicked",value:function(){this.props.history.goBack()}}]),t}(n.Component)),Ne=Object(b.f)(we),je=(a(465),a(468),a(469),a(470),a(226)),Ie=a.n(je),Oe=(a(471),a(472),a(100));!function(e){var t=e(".validate-input .input100");function a(t){if("email"===e(t).attr("type")||"email"===e(t).attr("name")){if(null==e(t).val().trim().match(/^([a-zA-Z0-9_\-.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(]?)$/))return!1}else if(""===e(t).val().trim())return!1}function n(t){var a=e(t).parent();e(a).addClass("alert-validate")}e(".validate-form").on("submit",function(){for(var e=!0,l=0;l<t.length;l++)!1===a(t[l])&&(n(t[l]),e=!1);return e}),e(".validate-form .input100").each(function(){e(this).focus(function(){!function(t){var a=e(t).parent();e(a).removeClass("alert-validate")}(this)})})}(a.n(Oe).a);var Be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onSubmitClicked=function(e){e.preventDefault(),fetch("http://localhost:3000/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.state.UsernameChange,password:a.state.passwordChange})}).then(function(e){return e.json()}).then(function(e){if("success"===e.status){sessionStorage.setItem("token",e.token);var t=e.body[0],n=t.fname,l=t.role,o=t.plants;a.props.handler(n,l,o),a.props.history.push("/plantstats")}else alert("Enter the Correct Credentials!")})},a.state={UsernameChange:"",passwordChange:""},a.onEmailChange=a.onEmailChange.bind(Object(u.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(u.a)(a)),a.onSubmitClicked=a.onSubmitClicked.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"limiter"},l.a.createElement("div",{className:"container-login100"},l.a.createElement("div",{className:"wrap-login100"},l.a.createElement(Ie.a,{className:"Tilt",options:{scale:1.1}},l.a.createElement("div",{className:"login100-pic Tilt-inner",style:{height:250,width:250},"data-tilt":!0},l.a.createElement("img",{src:a(473),alt:"IMG"}))),l.a.createElement("form",{className:"login100-form validate-form"},l.a.createElement("span",{className:"login100-form-title"},"Member Login"),l.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Valid email is required: ex@abc.xyz"},l.a.createElement("input",{onChange:this.onEmailChange,className:"input100",type:"text",name:"email",placeholder:"Email"}),l.a.createElement("span",{className:"focus-input100"}),l.a.createElement("span",{className:"symbol-input100"},l.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}))),l.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Password is required"},l.a.createElement("input",{onChange:this.onPasswordChange,className:"input100",type:"password",name:"pass",placeholder:"Password"}),l.a.createElement("span",{className:"focus-input100"}),l.a.createElement("span",{className:"symbol-input100"},l.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"}))),l.a.createElement("div",{className:"container-login100-form-btn"},l.a.createElement("button",{onClick:this.onSubmitClicked,className:"login100-form-btn"},"Login"))))))}},{key:"onEmailChange",value:function(e){this.setState({UsernameChange:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({passwordChange:e.target.value})}}]),t}(n.Component),De=(a(212),a(116)),xe=a(213),Pe={root:{fontFamily:"sans-serif"},h1:{textAlign:"center"},qrcode1:{display:"grid",justifyContent:"center"}},ze=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).pr={cycle:"",select:"",startDate:"",endDate:""},a.state={zone:0,row:0,block:"",inverter:0,SMB:"",redirect:!1},a.onEmailChange=a.onEmailChange.bind(Object(u.a)(a)),a.onPasswordChange=a.onPasswordChange.bind(Object(u.a)(a)),a.onBlockChange=a.onBlockChange.bind(Object(u.a)(a)),a.onInverterChange=a.onInverterChange.bind(Object(u.a)(a)),a.onSMBChange=a.onSMBChange.bind(Object(u.a)(a)),a.onSMBChange=a.onSMBChange.bind(Object(u.a)(a)),a.onButtonClicked=a.onButtonClicked.bind(Object(u.a)(a)),a.validate=a.validate.bind(Object(u.a)(a)),a.func=a.func.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handler3",value:function(){"none"!==document.getElementById("bel").style.display&&document.getElementById("bel").classList.toggle("fill");document.getElementById("jel").classList.toggle("fill")}},{key:"componentDidMount",value:function(){sessionStorage.getItem("token")||this.setState({redirect:!0})}},{key:"render",value:function(){return this.state.redirect?(alert("SignIn to Access the Info"),l.a.createElement(b.a,{to:"/signin"})):l.a.createElement("div",null,l.a.createElement(g,{fname:sessionStorage.getItem("fname"),role:sessionStorage.getItem("role"),plants:sessionStorage.getItem("plants"),pr:this.pr,handler:this.props.handler,plantstats:!1,handle:this.handler3}),l.a.createElement("div",{id:"bel",className:"fill"},l.a.createElement("form",{className:"hello"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Zone Number")," ",l.a.createElement("br",null),l.a.createElement("input",{type:"number",name:"zone",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Zone Number",onChange:this.onEmailChange}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Row Number"),l.a.createElement("br",null),l.a.createElement("input",{type:"number",name:"row",className:"form-control",id:"exampleInputPassword1",placeholder:"Enter Row Number",onChange:this.onPasswordChange}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Block Number"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"block",className:"form-control",id:"exampleInputPassword1",placeholder:"Enter Block Number",onChange:this.onBlockChange}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Inverter ID"),l.a.createElement("br",null),l.a.createElement("input",{type:"number",name:"inverter",className:"form-control",id:"exampleInputPassword1",placeholder:"Enter Inverter ID",onChange:this.onInverterChange}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"SMB ID"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"SMB",className:"form-control",id:"exampleInputPassword1",placeholder:"Enter SMB ID",onChange:this.onSMBChange}),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.onButtonClicked,className:"btn btn-success button",id:"rowstats"},"Get the QR code")))),l.a.createElement("div",{id:"jel",className:"fill",style:Pe.root},l.a.createElement("canvas",{id:"hellll",style:Pe.qrcode1}),l.a.createElement("div",{id:"but"},l.a.createElement("a",{id:"download",download:"hello.png",className:"btn btn-success",onClick:this.func},"Download as PDF"),l.a.createElement("button",{className:"btn btn-dark",onClick:this.onButtonClicked1},"Get QR for another row"))))}},{key:"onButtonClicked",value:function(e){e.preventDefault();var t=document.querySelector("canvas");new xe({background:"white",backgroundAlpha:1,foreground:"black",foregroundAlpha:1,level:"H",padding:25,size:300,value:JSON.stringify({zone:this.state.zone,row_num:this.state.row,blockname:this.state.block,inverter:this.state.inverter,smb:this.state.SMB}),element:t});this.validate()?alert("All the fields are required."):(document.getElementById("bel").style.display="none",document.getElementById("jel").style.display="grid")}},{key:"validate",value:function(){return 0===this.state.zone&&0===this.state.row&&""===this.state.block&&0===this.state.inverter&&""===this.state.SMB}},{key:"onEmailChange",value:function(e){this.setState({zone:Number(e.target.value)})}},{key:"onPasswordChange",value:function(e){this.setState({row:Number(e.target.value)})}},{key:"onBlockChange",value:function(e){this.setState({block:e.target.value.toString()})}},{key:"onInverterChange",value:function(e){this.setState({inverter:Number(e.target.value)})}},{key:"onSMBChange",value:function(e){this.setState({SMB:e.target.value.toString()})}},{key:"func",value:function(){var e="Zone: ".concat(this.state.zone.toString()," Blockname: ").concat(this.state.block," Row: ").concat(this.state.row.toString()," Inverter: ").concat(this.state.inverter.toString()," SMB: ").concat(this.state.SMB),t=document.getElementById("hellll").toDataURL("image/jpeg",1),a=new De;a.addImage(t,"JPEG",50,50),a.text(e,30,140),a.save(e+".pdf")}},{key:"onButtonClicked1",value:function(e){e.preventDefault(),document.getElementById("bel").style.display="grid",document.getElementById("jel").style.display="none"}}]),t}(l.a.Component),Me=a(213),Fe={root:{fontFamily:"sans-serif"},h1:{textAlign:"center"},qrcode1:{textAlign:"center"}},Te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).pdf=new De,a.pr={cycle:"",select:"",startdate:"",endDate:""},a.state={zone:0,block:"",inverter:0,SMB:"",redirect:!1,row:10,plant:null!==sessionStorage.getItem("plant")?sessionStorage.getItem("plant"):sessionStorage.getItem("plants").split("&")[0].toLowerCase()},a.onEmailChange=a.onEmailChange.bind(Object(u.a)(a)),a.onBlockChange=a.onBlockChange.bind(Object(u.a)(a)),a.onInverterChange=a.onInverterChange.bind(Object(u.a)(a)),a.onSMBChange=a.onSMBChange.bind(Object(u.a)(a)),a.onButtonClicked=a.onButtonClicked.bind(Object(u.a)(a)),a.validate=a.validate.bind(Object(u.a)(a)),a.func=a.func.bind(Object(u.a)(a)),a.setStateSynchronous=a.setStateSynchronous.bind(Object(u.a)(a)),a.setPlant=a.setPlant.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setStateSynchronous",value:function(e){var t=this;return new Promise(function(a){t.setState(e,function(){return a()})})}},{key:"componentDidMount",value:function(){sessionStorage.getItem("token")||this.setState({redirect:!0})}},{key:"handler3",value:function(){"none"!==document.getElementById("bel").style.display&&document.getElementById("bel").classList.toggle("fill");document.getElementById("jel").classList.toggle("fill")}},{key:"setPlant",value:function(e){var t=this;this.setStateSynchronous({plant:e}).then(function(e){sessionStorage.setItem("plant",t.state.plant)})}},{key:"render",value:function(){return this.state.redirect?(alert("SignIn to Access the Info"),l.a.createElement(b.a,{to:"/signin"})):l.a.createElement("div",null,l.a.createElement(g,{fname:sessionStorage.getItem("fname"),role:sessionStorage.getItem("role"),plants:sessionStorage.getItem("plants"),pr:this.pr,handler:this.props.handler,plantstats:!1,handle:this.handler3,setplant:this.setPlant}),l.a.createElement("div",{id:"bel",className:"fill"},l.a.createElement("form",{className:"hello"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Zone Number")," ",l.a.createElement("br",null),l.a.createElement("input",{type:"number",name:"zone",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter Zone Number",onChange:this.onEmailChange}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Block Number"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"block",className:"form-control",id:"exampleInputPassword1",placeholder:"Enter Block Number",onChange:this.onBlockChange}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Inverter ID"),l.a.createElement("br",null),l.a.createElement("input",{type:"number",name:"inverter",className:"form-control",id:"exampleInputPassword1",placeholder:"Enter Inverter ID",onChange:this.onInverterChange}),l.a.createElement("br",null),l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"SMB ID"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"SMB",className:"form-control",id:"exampleInputPassword1",placeholder:"Enter SMB ID",onChange:this.onSMBChange}),l.a.createElement("br",null),l.a.createElement("button",{onClick:this.onButtonClicked,className:"btn btn-success button",id:"rowstats"},"Get the list of QR codes")))),l.a.createElement("div",{id:"jel",className:"fill",style:Fe.root},l.a.createElement("canvas",{id:"hellll",style:Fe.qrcode1}),l.a.createElement("div",{id:"but"},l.a.createElement("a",{id:"download",download:"hello.png",className:"btn btn-success",onClick:this.func},"Download as PDF"),l.a.createElement("button",{className:"btn btn-dark",onClick:this.onButtonClicked1},"Get QR for Another Block"))))}},{key:"onButtonClicked",value:function(e){var t=this;e.preventDefault(),fetch("http://localhost:3000/getnumrows",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({plant:this.state.plant,block:this.state.block,smb:this.state.SMB,zone:this.state.zone,inverter:this.state.inverter})}).then(function(e){return e.json()}).then(function(e){t.setStateSynchronous({row:e.rows}).then(function(e){for(var a=0;a<t.state.row;a++){var n=document.querySelector("canvas"),l=(new Me({background:"white",backgroundAlpha:.94,foreground:"black",foregroundAlpha:1,level:"H",padding:25,size:300,value:JSON.stringify({zone:t.state.zone,row_num:a+1,blockname:t.state.block,inverter:t.state.inverter,smb:t.state.SMB}),element:n}),"Zone: ".concat(t.state.zone.toString()," Row:").concat((a+1).toString()," Blockname: ").concat(t.state.block," Inverter: ").concat(t.state.inverter.toString()," SMB: ").concat(t.state.SMB));console.log(l);var o=document.getElementById("hellll").toDataURL("image/jpeg",1);t.pdf.addImage(o,"JPEG",65,a%2*2*50+40),t.pdf.text(l,35,a%2*2*50+130),a%2===1&&t.pdf.addPage()}t.validate()?alert("All the fields are required."):(document.getElementById("bel").style.display="none",document.getElementById("jel").style.display="grid")}).catch(function(e){return alert("Something went wrong")})})}},{key:"validate",value:function(){return 0===this.state.zone&&""===this.state.block&&0===this.state.inverter&&""===this.state.SMB}},{key:"onEmailChange",value:function(e){this.setState({zone:Number(e.target.value)})}},{key:"onBlockChange",value:function(e){this.setState({block:e.target.value.toString()})}},{key:"onInverterChange",value:function(e){this.setState({inverter:Number(e.target.value)})}},{key:"onSMBChange",value:function(e){this.setState({SMB:e.target.value.toString()})}},{key:"func",value:function(){var e="Zone: ".concat(this.state.zone.toString()," Blockname: ").concat(this.state.block," Inverter: ").concat(this.state.inverter.toString()," SMB: ").concat(this.state.SMB);this.pdf.save(e+".pdf")}},{key:"onButtonClicked1",value:function(e){e.preventDefault(),document.getElementById("bel").style.display="grid",document.getElementById("jel").style.display="none"}}]),t}(l.a.Component),Re=a(532),_e=a(533),Ae=Object(v.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{margin:4,width:180},div:{margin:10}}});function qe(e){var t=e.AddHandler,a=e.done,o=Ae(),r=Object(n.useState)({blockname:"",totalrows:0,zone:0,inverter:"",smb:"",_40mrows:0,_20mrows:0,wp:0}),s=Object(j.a)(r,2),i=s[0],c=s[1],d=function(e){return function(t){c(Object(ee.a)({},i,Object(X.a)({},e,t.target.value))),console.log(i)}};return l.a.createElement("div",{className:o.div},l.a.createElement("form",{className:o.container,autoComplete:"off"},l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"Block Name",className:o.textField,margin:"normal",onChange:d("blockname")}),l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"Total Rows",value:Number(i._40mrows)+Number(i._20mrows),className:o.textField,margin:"normal",onChange:d("totalrows")}),l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"Zone",className:o.textField,margin:"normal",onChange:d("zone")}),l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"Inverter",className:o.textField,margin:"normal",onChange:d("inverter")}),l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"SMB",className:o.textField,margin:"normal",onChange:d("smb")}),l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"FortyRows",className:o.textField,margin:"normal",onChange:d("_40mrows")}),l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"TwentyRows",className:o.textField,margin:"normal",onChange:d("_20mrows")}),l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"Watt Power",className:o.textField,margin:"normal",onChange:d("wp")}),l.a.createElement(p.a,{onClick:function(e){return t(i,e)}},l.a.createElement(Re.a,null)),l.a.createElement(p.a,{onClick:function(e){return a(i,e)}},l.a.createElement(_e.a,null))))}a(474);var Je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).i=1,a.state={blockname:[],totalrows:[],zone:[],inverter:[],smb:[],_40mrows:[],_20mrows:[],wp:[],totalmodules:[],textfields:[],plant:"",redirect:!1},a.setStateSynchronous=a.setStateSynchronous.bind(Object(u.a)(a)),a.addAnotherRow=a.addAnotherRow.bind(Object(u.a)(a)),a.plantname=a.plantname.bind(Object(u.a)(a)),a.onSubmitClicked=a.onSubmitClicked.bind(Object(u.a)(a)),a.doneAdding=a.doneAdding.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"setStateSynchronous",value:function(e){var t=this;return new Promise(function(a){t.setState(e,function(){return a()})})}},{key:"addAnotherRow",value:function(e){var t=this,a=e.blockname,n=e.totalrows,o=e.zone,r=e.inverter,s=e.smb,i=e._40mrows,c=e._20mrows,d=e.wp,u=this.state.blockname,m=this.state.totalrows,h=this.state.zone,p=this.state.inverter,g=this.state.smb,b=this.state._40mrows,y=this.state._20mrows,f=this.state.wp,v=this.state.totalmodules,E=40*i+20*c;u.push(a),m.push(n),h.push(o),p.push(r),g.push(s),b.push(i),y.push(c),f.push(d),v.push(E),this.setStateSynchronous({blockname:u,totalrows:m,zone:h,inverter:p,smb:g,_40mrows:b,_20mrows:y,wp:f,totalmodules:v}).then(function(e){t.i+=1;var a=t.state.textfields;a.push(l.a.createElement(qe,{key:t.i,AddHandler:t.addAnotherRow,done:t.doneAdding})),t.setStateSynchronous({textfields:a})})}},{key:"doneAdding",value:function(e){var t=e.blockname,a=e.totalrows,n=e.zone,l=e.inverter,o=e.smb,r=e._40mrows,s=e._20mrows,i=e.wp,c=this.state.blockname,d=this.state.totalrows,u=this.state.zone,m=this.state.inverter,h=this.state.smb,p=this.state._40mrows,g=this.state._20mrows,b=this.state.wp,y=this.state.totalmodules,f=40*r+20*s;c.push(t),d.push(a),u.push(n),m.push(l),h.push(o),p.push(r),g.push(s),b.push(i),y.push(f),this.setStateSynchronous({blockname:c,totalrows:d,zone:u,inverter:m,smb:h,_40mrows:p,_20mrows:g,wp:b,totalmodules:y})}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(b.a,{to:"/plantstats"}):l.a.createElement("div",{id:"hello123"},l.a.createElement("div",null,l.a.createElement(f.a,{variant:"h5"},"Enter the Plant Name: (Plant Name should not contain any spaces use '_' instead)"),l.a.createElement(D.a,{required:!0,id:"outlined-required",label:"Plant Name",margin:"normal",variant:"outlined",onChange:this.plantname}),l.a.createElement(f.a,{id:"PlantDetails",variant:"h6"},"Enter the Plant Details"),l.a.createElement(qe,{key:1,AddHandler:this.addAnotherRow,done:this.doneAdding})),this.state.textfields.map(function(e,t){return e}),l.a.createElement("div",{id:"submit"},l.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:this.onSubmitClicked},"Create Plant")))}},{key:"plantname",value:function(e){this.setStateSynchronous({plant:e.target.value})}},{key:"onSubmitClicked",value:function(e){var t=this;e.preventDefault(),fetch("http://localhost:3000/createplant",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({blocks:this.state.blockname,totalrows:this.state.totalrows,zone:this.state.zone,inverter:this.state.inverter,smb:this.state.inverter,_40mrows:this.state._40mrows,_20mrows:this.state._20mrows,wp:this.state.wp,totalmodules:this.state.totalmodules,plant:this.state.plant})}).then(function(e){return e.json()}).then(function(e){alert("The Plant is created"),t.setState({redirect:!0})})}}]),t}(n.Component),Le=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={name:"",role:"",plants:"",signedIn:!1,plant:""},a.handler=a.handler.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handler",value:function(e,t,a){this.setState({name:e,role:t,plants:a,signedIn:!0}),sessionStorage.setItem("fname",e),sessionStorage.setItem("role",t),sessionStorage.setItem("plants",a),sessionStorage.setItem("plant",a.split("&")[0].toLowerCase())}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(h.a,null,l.a.createElement(b.b,{exact:!0,path:"/",render:function(){return l.a.createElement(b.a,{to:"/signin"})}}),l.a.createElement(b.b,{path:"/plantstats",render:function(t){return l.a.createElement(F,Object.assign({signedIn:e.state.signedIn,fname:e.state.name,role:e.state.role,plants:e.state.plants},t))}}),l.a.createElement(b.b,{path:"/zonestats",render:function(t){return l.a.createElement(Y,Object.assign({signedIn:e.state.signedIn,fname:e.state.name,role:e.state.role,plants:e.state.plants},t))}}),l.a.createElement(b.b,{path:"/rowstats",render:function(t){return l.a.createElement(ke,Object.assign({signedIn:e.state.signedIn,fname:e.state.name,role:e.state.role,plants:e.state.plants},t))}}),l.a.createElement(b.b,{path:"/register",component:Ne}),l.a.createElement(b.b,{path:"/signin",render:function(t){return l.a.createElement(Be,Object.assign({handler:e.handler},t))}}),l.a.createElement(b.b,{path:"/qrcode",render:function(t){return l.a.createElement(ze,Object.assign({handler:e.handler1,signedIn:e.state.signedIn,fname:e.state.name,role:e.state.role,plants:e.state.plants},t))}}),l.a.createElement(b.b,{path:"/qrcode_block",render:function(t){return l.a.createElement(Te,Object.assign({signedIn:e.state.signedIn,fname:e.state.name,role:e.state.role,plants:e.state.plants},t))}}),l.a.createElement(b.b,{path:"/plant",component:Je}),l.a.createElement(b.b,{path:"/dialog",component:pe})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[259,1,2]]]);
//# sourceMappingURL=main.cd1c0e0d.chunk.js.map