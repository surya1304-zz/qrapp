{"ast":null,"code":"import _classCallCheck from \"/Users/indukurisuryasaiharischyandraprasad/WebstormProjects/hello1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/indukurisuryasaiharischyandraprasad/WebstormProjects/hello1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/indukurisuryasaiharischyandraprasad/WebstormProjects/hello1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/indukurisuryasaiharischyandraprasad/WebstormProjects/hello1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/indukurisuryasaiharischyandraprasad/WebstormProjects/hello1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/indukurisuryasaiharischyandraprasad/WebstormProjects/hello1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/indukurisuryasaiharischyandraprasad/WebstormProjects/hello1/src/Creating/CreatePlant.js\";\nimport React, { Component } from 'react';\nimport PlantForm from './PlantForm';\nimport './createplant.css';\nimport { TextField, Typography, Button } from \"@material-ui/core\";\nimport { Redirect } from \"react-router\";\n\nvar CreatePlant =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreatePlant, _Component);\n\n  function CreatePlant(props) {\n    var _this;\n\n    _classCallCheck(this, CreatePlant);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreatePlant).call(this, props));\n    _this.i = 1;\n    _this.state = {\n      blockname: [],\n      totalrows: [],\n      zone: [],\n      inverter: [],\n      smb: [],\n      _40mrows: [],\n      _20mrows: [],\n      wp: [],\n      totalmodules: [],\n      textfields: [],\n      plant: '',\n      redirect: false\n    };\n    _this.setStateSynchronous = _this.setStateSynchronous.bind(_assertThisInitialized(_this));\n    _this.addAnotherRow = _this.addAnotherRow.bind(_assertThisInitialized(_this));\n    _this.plantname = _this.plantname.bind(_assertThisInitialized(_this));\n    _this.onSubmitClicked = _this.onSubmitClicked.bind(_assertThisInitialized(_this));\n    _this.doneAdding = _this.doneAdding.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CreatePlant, [{\n    key: \"setStateSynchronous\",\n    value: function setStateSynchronous(stateUpdate) {\n      var _this2 = this;\n\n      return new Promise(function (resolve) {\n        _this2.setState(stateUpdate, function () {\n          return resolve();\n        });\n      });\n    }\n  }, {\n    key: \"addAnotherRow\",\n    value: function addAnotherRow(values) {\n      var _this3 = this;\n\n      var blockname = values.blockname,\n          totalrows = values.totalrows,\n          zone = values.zone,\n          inverter = values.inverter,\n          smb = values.smb,\n          _40mrows = values._40mrows,\n          _20mrows = values._20mrows,\n          wp = values.wp;\n      var a = this.state.blockname;\n      var b = this.state.totalrows;\n      var c = this.state.zone;\n      var d = this.state.inverter;\n      var f = this.state.smb;\n      var g = this.state._40mrows;\n      var h = this.state._20mrows;\n      var i = this.state.wp;\n      var j = this.state.totalmodules;\n      var totalMods = _40mrows * 40 + _20mrows * 20;\n      a.push(blockname);\n      b.push(totalrows);\n      c.push(zone);\n      d.push(inverter);\n      f.push(smb);\n      g.push(_40mrows);\n      h.push(_20mrows);\n      i.push(wp);\n      j.push(totalMods);\n      this.setStateSynchronous({\n        blockname: a,\n        totalrows: b,\n        zone: c,\n        inverter: d,\n        smb: f,\n        _40mrows: g,\n        _20mrows: h,\n        wp: i,\n        totalmodules: j\n      }).then(function (lotte) {\n        _this3.i += 1;\n        var p = _this3.state.textfields;\n        p.push(React.createElement(PlantForm, {\n          key: _this3.i,\n          AddHandler: _this3.addAnotherRow,\n          done: _this3.doneAdding,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }));\n\n        _this3.setStateSynchronous({\n          textfields: p\n        });\n      });\n    }\n  }, {\n    key: \"doneAdding\",\n    value: function doneAdding(values) {\n      var blockname = values.blockname,\n          totalrows = values.totalrows,\n          zone = values.zone,\n          inverter = values.inverter,\n          smb = values.smb,\n          _40mrows = values._40mrows,\n          _20mrows = values._20mrows,\n          wp = values.wp;\n      var a = this.state.blockname;\n      var b = this.state.totalrows;\n      var c = this.state.zone;\n      var d = this.state.inverter;\n      var f = this.state.smb;\n      var g = this.state._40mrows;\n      var h = this.state._20mrows;\n      var i = this.state.wp;\n      var j = this.state.totalmodules;\n      var totalMods = _40mrows * 40 + _20mrows * 20;\n      a.push(blockname);\n      b.push(totalrows);\n      c.push(zone);\n      d.push(inverter);\n      f.push(smb);\n      g.push(_40mrows);\n      h.push(_20mrows);\n      i.push(wp);\n      j.push(totalMods);\n      this.setStateSynchronous({\n        blockname: a,\n        totalrows: b,\n        zone: c,\n        inverter: d,\n        smb: f,\n        _40mrows: g,\n        _20mrows: h,\n        wp: i,\n        totalmodules: j\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/plantstats\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        id: \"hello123\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Enter the Plant Name: (plantname shouldnot contain any spaces use underscroll instead)\"), React.createElement(TextField, {\n        required: true,\n        id: \"outlined-required\",\n        label: \"Plant Name\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        onChange: this.plantname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        id: \"PlantDetails\",\n        variant: \"h6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Enter the Plant Details\"), React.createElement(PlantForm, {\n        key: 1,\n        AddHandler: this.addAnotherRow,\n        done: this.doneAdding,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), this.state.textfields.map(function (hel, i) {\n        return hel;\n      }), React.createElement(\"div\", {\n        id: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: this.onSubmitClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Create Plant\")));\n    }\n  }, {\n    key: \"plantname\",\n    value: function plantname(e) {\n      this.setStateSynchronous({\n        plant: e.target.value\n      });\n    }\n  }, {\n    key: \"onSubmitClicked\",\n    value: function onSubmitClicked(e) {\n      var _this4 = this;\n\n      e.preventDefault();\n      fetch('http://localhost:3000/createplant', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          blocks: this.state.blockname,\n          totalrows: this.state.totalrows,\n          zone: this.state.zone,\n          inverter: this.state.inverter,\n          smb: this.state.inverter,\n          _40mrows: this.state._40mrows,\n          _20mrows: this.state._20mrows,\n          wp: this.state.wp,\n          totalmodules: this.state.totalmodules,\n          plant: this.state.plant\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (stark) {\n        alert(\"The Plant is created\");\n\n        _this4.setState({\n          redirect: true\n        });\n      });\n    }\n  }]);\n\n  return CreatePlant;\n}(Component);\n\nexport default CreatePlant;","map":{"version":3,"sources":["/Users/indukurisuryasaiharischyandraprasad/WebstormProjects/hello1/src/Creating/CreatePlant.js"],"names":["React","Component","PlantForm","TextField","Typography","Button","Redirect","CreatePlant","props","i","state","blockname","totalrows","zone","inverter","smb","_40mrows","_20mrows","wp","totalmodules","textfields","plant","redirect","setStateSynchronous","bind","addAnotherRow","plantname","onSubmitClicked","doneAdding","stateUpdate","Promise","resolve","setState","values","a","b","c","d","f","g","h","j","totalMods","push","then","lotte","p","map","hel","e","target","value","preventDefault","fetch","method","headers","body","JSON","stringify","blocks","res","json","stark","alert"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport PlantForm from './PlantForm';\nimport './createplant.css';\nimport {TextField, Typography, Button} from \"@material-ui/core\";\nimport {Redirect} from \"react-router\";\n\nclass CreatePlant extends Component{\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            blockname : [],\n            totalrows : [],\n            zone : [],\n            inverter : [],\n            smb : [],\n            _40mrows : [],\n            _20mrows : [],\n            wp : [],\n            totalmodules : [],\n            textfields : [],\n            plant : '',\n            redirect : false,\n        };\n        this.setStateSynchronous = this.setStateSynchronous.bind(this);\n        this.addAnotherRow = this.addAnotherRow.bind(this);\n        this.plantname = this.plantname.bind(this);\n        this.onSubmitClicked = this.onSubmitClicked.bind(this);\n        this.doneAdding = this.doneAdding.bind(this);\n    }\n    i=1;\n\n    setStateSynchronous(stateUpdate) {\n        return new Promise(resolve => {\n            this.setState(stateUpdate, () => resolve());\n        });\n    }\n\n    addAnotherRow(values){\n        const { blockname,totalrows,zone,inverter,smb,_40mrows,_20mrows,wp } = values;\n        const a = this.state.blockname;\n        const b = this.state.totalrows;\n        const c = this.state.zone;\n        const d = this.state.inverter;\n        const f = this.state.smb;\n        const g = this.state._40mrows;\n        const h = this.state._20mrows;\n        const i = this.state.wp;\n        const j = this.state.totalmodules;\n        let totalMods = _40mrows*40 + _20mrows*20;\n\n        a.push(blockname);\n        b.push(totalrows);\n        c.push(zone);\n        d.push(inverter);\n        f.push(smb);\n        g.push(_40mrows);\n        h.push(_20mrows);\n        i.push(wp);\n        j.push(totalMods);\n\n        this.setStateSynchronous({\n            blockname : a,\n            totalrows : b,\n            zone : c,\n            inverter : d,\n            smb : f,\n            _40mrows : g,\n            _20mrows : h,\n            wp : i,\n            totalmodules : j,\n        }).then(lotte => {\n            this.i += 1;\n            let p = this.state.textfields;\n            p.push(<PlantForm\n                key={this.i}\n                AddHandler={this.addAnotherRow}\n                done={this.doneAdding}\n            />);\n            this.setStateSynchronous({\n                textfields : p,\n            });\n        });\n    }\n\n    doneAdding(values) {\n        const {blockname, totalrows, zone, inverter, smb, _40mrows, _20mrows, wp} = values;\n        const a = this.state.blockname;\n        const b = this.state.totalrows;\n        const c = this.state.zone;\n        const d = this.state.inverter;\n        const f = this.state.smb;\n        const g = this.state._40mrows;\n        const h = this.state._20mrows;\n        const i = this.state.wp;\n        const j = this.state.totalmodules;\n        let totalMods = _40mrows * 40 + _20mrows * 20;\n\n        a.push(blockname);\n        b.push(totalrows);\n        c.push(zone);\n        d.push(inverter);\n        f.push(smb);\n        g.push(_40mrows);\n        h.push(_20mrows);\n        i.push(wp);\n        j.push(totalMods);\n\n        this.setStateSynchronous({\n            blockname: a,\n            totalrows: b,\n            zone: c,\n            inverter: d,\n            smb: f,\n            _40mrows: g,\n            _20mrows: h,\n            wp: i,\n            totalmodules: j,\n        });\n    }\n\n    render() {\n        if(this.state.redirect)\n        {\n            return <Redirect to='/plantstats'/>\n        }\n        return (\n            <div id='hello123'>\n                <div>\n                    <Typography variant=\"h5\">Enter the Plant Name: (plantname shouldnot contain any spaces use underscroll instead)</Typography>\n                    <TextField\n                    required\n                    id=\"outlined-required\"\n                    label=\"Plant Name\"\n                    margin=\"normal\"\n                    variant=\"outlined\"\n                    onChange={this.plantname}\n                    />\n                <Typography id=\"PlantDetails\" variant=\"h6\" >Enter the Plant Details</Typography>\n                <PlantForm key={1} AddHandler={this.addAnotherRow} done={this.doneAdding}/>\n                </div>\n                {this.state.textfields.map((hel,i)=>{\n                    return hel\n                })}\n                <div id='submit'>\n                    <Button variant='contained' color='secondary' onClick={this.onSubmitClicked}>Create Plant</Button>\n                </div>\n            </div>\n        );\n    }\n\n    plantname(e) {\n        this.setStateSynchronous({\n            plant : e.target.value,\n        })\n    }\n\n    onSubmitClicked(e)\n    {\n        e.preventDefault();\n        fetch('http://localhost:3000/createplant',{\n            method : 'post',\n            headers : {\n                'Content-Type' : 'application/json',\n            },\n            body : JSON.stringify({\n                blocks : this.state.blockname,\n                totalrows : this.state.totalrows,\n                zone : this.state.zone,\n                inverter : this.state.inverter,\n                smb : this.state.inverter,\n                _40mrows : this.state._40mrows,\n                _20mrows : this.state._20mrows,\n                wp : this.state.wp,\n                totalmodules : this.state.totalmodules,\n                plant : this.state.plant,\n            }),\n        })\n            .then(res=>res.json())\n            .then(stark=> {\n                alert(\"The Plant is created\");\n                this.setState({\n                    redirect: true,\n                });\n            });\n\n    }\n}\n\nexport default CreatePlant;"]},"metadata":{},"sourceType":"module"}