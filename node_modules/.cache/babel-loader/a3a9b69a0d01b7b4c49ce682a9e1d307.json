{"ast":null,"code":"var raf = require('rafl');\n\nvar Animate = function Animate(frame, fps) {\n  if (!(this instanceof Animate)) {\n    return new Animate(frame, fps);\n  }\n\n  this.id = null;\n  this.now = null;\n  this.then = +new Date();\n  this.delta = null;\n  this.frame = frame;\n  this.interval = 1000 / fps;\n  this.start = this.start.bind(this);\n  this.start();\n};\n\nAnimate.prototype.pause = function () {\n  raf.cancel(this.id);\n  this.id = null;\n  return this;\n};\n\nAnimate.prototype.resume = function () {\n  if (this.id == null) {\n    this.start();\n  }\n\n  return this;\n};\n\nAnimate.prototype.start = function () {\n  this.id = raf(this.start);\n  this.now = +new Date();\n  this.delta = this.now - this.then;\n\n  if (this.delta < this.interval) {\n    return;\n  }\n\n  this.frame();\n  this.then = this.now - this.delta % this.interval;\n};\n\nmodule.exports = Animate;","map":null,"metadata":{},"sourceType":"script"}